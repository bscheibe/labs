/*
SAFETY PIG

                         _
 _._ _..._ .-',     _.._(`))
'-. `     '  /-._.-'    ',/
   )         \            '.
  / _    _    |             \
 |  a    a    /              |
 \   .-.                     ;  
  '-('' ).-'       ,'       ;
     '-;           |      .'
        \           \    /
        | 7  .__  _.-\   \
        | |  |  ``/  /`  /
       /,_|  |   /,_/   /
          /,_/      '`-'
*/

//**********Variables*****//
@ground-y : 345px;
@ground-height1 : 15px;
@ground-height2 : 25px;
@ground-length : 1000px;

@tree-clump1 : 80px;
@tree-clump2 : 680px;

@fground: 3;
@mid-ground: 2;
@normal: 1;
@background: 0;

//************************//

html, body {
	height: 100%;
	margin: 0;
	padding: 0;
}

body {
	min-height: 100%;
}

#wrapper {
	min-height: 100%; 
	max-height: 800px;
	overflow: hidden;
	background-color: @bg-grey;
}

//********Tree1*************//
.tree(@x: 280px, @foreground : false, @lr : false, @y: 310px) {
	@size1: 40px;
	@size2: 50px;
	.display-i();
	.triangle(@size1, @size2);
	.position(relative, @y, @x);
	z-index: @normal;

	& when not (@foreground = false) {
        z-index : @fground;
    }

	&:before {
		.ba();
		.position(absolute, 25px, -60px);
		.triangle(@size1 * 1.5, @size2 * 1.4);
	}

	&:after {
		.ba();
		.position(absolute, 55px, -80px);
		.triangle(@size1 * 2, @size2 * 1.8);
	}

	.root {
		.display();
		.size(12px, 20px);
		.position(relative, 145px, -12px);
		background-color: @dark-brown;
		box-shadow: 12px 0 0 @darker-brown;
	}

	.shadow1 {
		.display();
		.size(85px, 5px);
		.position(relative, 70px, -42.5px);
		.shadow();
		background-color: @dark-green;
		box-shadow: 0 5px 2px rgba(31,155,83,0.6);
	}
	.shadow2 {
		.display();
		.shadow();
		.size(54px, 5px);
		.position(relative, 20px, -27.5px);
		background-color: @dark-green;
		box-shadow: 0 5px 2px rgba(31,155,83,0.6);
	}

	.snow() {
		z-index: 2;
		background-color: @snow-white;
		border-radius: 10px;
	}

	.snow-clump() {
		.size(12px, 27px);
		position: absolute;
		top : 0;
	}

	.snow1 {
		.display();
		.size(54px, 12px);
		.position(relative, 57px, 5px);
		& when not (@lr = false) {
			.position(relative, 57px, -60px);
		}
		.snow();

		&:after {
			.ba();
			.position(absolute, 2px, 30px);
			& when not (@lr = false) {
				.position(absolute, 2px, 8px);
			}
			.size(15px, 15px);
			background-color: @snow-white;
			border-radius: 100%;
		}
	}
	.snow2 {
		.display();
		.snow-clump();
		left: -12px;
		.snow();
		.transform(rotate(40deg));
	}
	.snow3 {
		.display();
		.snow-clump();
		left: -5px;
		.snow();
	}
	.snow4 {
		.display();
		.snow-clump();
		left: 2px;
		.snow();
		.transform(rotate(-40deg));
	}
}

.tree1 {
	.tree(@tree-clump1, true);
}

.tree2 {
	.tree(@tree-clump2, false, true);
}
//**********************//

//**************TreeOFF*********//

.treeOff(@x: 280px, @foreground : false, @lr : false, @y: 285px) {
	@size1: 50px;
	@size2: 60px;
	.display-i();
	.triangle(@size1, @size2, @other-green);
	.position(relative, @y, @x);
	z-index: @normal;

	& when not (@foreground = false) {
        z-index : @fground;
    }

	&:before {
		.ba();
		.position(absolute, 30px, -75px);
		.triangle(75px, 90px, @other-green);
	}

	&:after {
		.ba();
		.position(absolute, 75px, -90px);
		.triangle(90px, 100px, @other-green);
		//box-shadow: 0 6px 0 #f1cb9a, 0 8px 2px rgba(0,0,0,0.2), -132px 40px 0 -61px #f6c83e, -128px 40px 0 -54px #edb815,
	}

	.root {
		.display();
		.size(15px, 30px);
		.position(relative, 170px, -15px);
		background-color: @dark-brown;
		box-shadow: 15px 0 0 @darker-brown;
	}
	//add triangle to shadow
	.shadow1 {
		.display();
		.size(85px, 5px);
		.position(relative, 85px, -43px);
		.shadow();
		background-color: @other-green;
		box-shadow: 0 5px 5px rgba(24,138,54, 0.6);
	}
	.shadow2 {
		.display();
		.shadow();
		.size(54px, 5px);
		.position(relative, 20px, -28px);
		background-color: @other-green;
		box-shadow: 0 5px 5px rgba(24,138,54, 0.6);
	}

	.snow() {
		z-index: @mid-ground;
		background-color: @snow-white;
		border-radius: 10px;
	}

	.snow-clump() {
		.size(12px, 27px);
		position: absolute;
		top : 0;
	}

	.snow5 {
		.display();
		.size(50px, 11px);
		.position(relative, 59px, 25px);
		.snow();
	}

	.snow1 {
		.display();
		.size(75px, 13px);
		.position(relative, 125px, -87px);
		.snow();

		&:after {
			.ba();
			.position(absolute, 2px, 10px);
			& when not (@lr = false) {
				.position(absolute, 2px, 40px);
			}
			.size(17px, 17px);
			background-color: @snow-white;
			border-radius: 100%;
		}
	}

	.snow2 {
		.display();
		.snow-clump();
		left: -12px;
		.snow();
		.transform(rotate(40deg));
	}
	.snow3 {
		.display();
		.snow-clump();
		left: -5px;
		.snow();
	}
	.snow4 {
		.display();
		.snow-clump();
		left: 2px;
		.snow();
		.transform(rotate(-40deg));
	}
}

.tree3 {
	.treeOff(@tree-clump1 - 50px, false, true, 290px);
}

.tree4 {
	.treeOff(@tree-clump2 - 120px, true);
}


//*************************//

//*********BackTree***********//

.treeBack(@x: -315px, @foreground : false, @lr : false, @y: 285px) {
	@size1: 50px;
	@size2: 60px;
	.display-i();
	.triangle(@size1, @size2, @dark-tree);
	.position(relative, @y, @x);
	z-index: @background;

	&:before {
		.ba();
		.position(absolute, 30px, -75px);
		.triangle(75px, 90px, @dark-tree);
	}

	&:after {
		.ba();
		.position(absolute, 75px, -90px);
		.triangle(90px, 100px, @dark-tree);
	}

	.root {
		.display();
		.size(15px, 30px);
		.position(relative, 170px, -15px);
		background-color: @dark-tree;
		box-shadow: 15px 0 0 @dark-tree;
	}
	
}

.tree5 {
	.treeBack();
}

.tree6 {
	.treeBack(-175px);
}

.tree7 {
	.treeBack(300px);
}

.tree8 {
	.treeBack(0px);
}

//**************************//

//********Mountains********//

.mountain(@size1 : 280px, @y: 240px, @x: 237px, @align: @size1 - 92px, @top : -225px, @clump1: 330px, @clump2: 380px, @size2 : @size1, @rotate : 135deg) {
	.display-i();
	opacity: 0.5;
	.position(relative, @y, @x);

	.snow() {
		z-index: @normal;
		background-color: @snow-white;
		border-radius: 25px;
	}

	.snow-clump() {
		.size(32px, 100px);
		position: absolute;
		top : @top;
	}

	.half1 {
		.triangle(@size1, @size2, @dark-light-grey);
		.position(absolute, -50px, 0);
		.transform(rotate(@rotate));
		.display-i();
	}
	.half2 {
		.triangle(@size1, @size2, @dark-dark-grey);
		.position(absolute, -50px, @align);
		.transform(rotate(-135deg));
		.display-i();
	}
	
	.snow1 {
		.display();
		.snow-clump();
		left: @clump1;
		.snow();
		.transform(rotate(45deg));
	}
	
	.snow2 {
		.display();
		.snow-clump();
		left: @clump2;
		.snow();
		.transform(rotate(-45deg));
	}
}

.mountain1 {
	.mountain();
}

.mountain2 {
	.mountain(240px, 277px, 15px, 168px, -210px, 285px, 335px);
}

//*************************//

//*********House***********//

.house {
	@width : 140px;
	@height : 100px;

	.display-i();
	.size(@width, @height);
	.position(relative, @ground-y + 80px, -400px);
	background-color: @cred;
	z-index: @normal;

	.window() {
		@width : 27px;

		.ba();
		.size(@width, @width);
		background-color: @windows-yellow;
	}

	&:before {
		.window();
		.position(absolute, 20px, 10px);
		.shadow();
	}

	&:after {
		.window();
		.position(absolute, 20px, 105px);
	}

	.snow() {
		z-index: @normal;
		background-color: @snow-white;
		border-radius: 25px;
	}

	.snow-clump() {
		.size(30px, 145px);
		position: absolute;
		top : -100px;
	}

	.roof {
		.ba();
		.position(absolute, -60px, -5px);
		.triangle(75px, 75px, @cred);
	}

	.door {
		.display();
		.size(55px, 75px);
		.position(absolute, 25px, 43px);
		z-index: @normal;
		background-color: @dark-cred;
		border-top-right-radius: 25px;
		border-top-left-radius: 25px;
	}

	.chimney {
		.display();
		.size(35px, 65px);
		.position(absolute, -80px, 5px);
		z-index: @normal;
		background-color: @cred;

		&:before {
			.ba();
			.snow();
			.display();
			.size(40px, 12px);
			.position(absolute, -5px, -3px);
			border-radius: 10px;
		}

		&:after {
			.ba();
			.snow();
			.display();
			.size(13px, 13px);
			.position(absolute, -4px, -4px);
			border-radius: 100%;
		}
	}

	.smoke1 {
		.animation(smoky_smoke 3s ease-in-out infinite 0s);
		.display();
		.size(25px);
		.position(absolute, -120px, 0px);
		background: @smoke-grey; 
		border-radius: 50%;
		box-shadow: 
			@smoke-grey 15px -5px 0 -5px, 
			@smoke-grey 5px -10px, 
			@smoke-grey 5px 5px, 
			@smoke-grey 10px 8px 0 -10px, 
			@smoke-grey 20px 5px 0 -5px;
	}

	.smoke2 {
		.animation(smoky_smoke 3s ease-out infinite 1.75s);
		.display();
		.size(25px, 25px);
		.position(absolute, -120px, 0px);
		opacity: 0;
		background: @smoke-grey; 
		border-radius: 50%;
		box-shadow: 
			@smoke-grey 15px -5px 0 -5px, 
			@smoke-grey 5px -10px, 
			@smoke-grey 5px 5px, 
			@smoke-grey 10px 8px 0 -10px, 
			@smoke-grey 20px 5px 0 -5px;
	}

	@left : 12px;

	.snow1 {
		.display();
		.snow-clump();
		left: @left;
		.snow();
		.transform(rotate(45deg));
	}
	
	.snow2 {
		.display();
		.snow-clump();
		left: @left + 85px;
		.snow();
		.transform(rotate(-45deg));
	}
}

//*************************//

//***********Snow**********//

@ss-width: 82px;
@ss-height: 92px;

@ss-x : 10px;
@ss-y : 0px;

@overlap-x : @ss-x + @ss-width - 3px;
@overlap-y : @ss-y + @ss-height - 3px;

.snow-square(@ox : 0, @oy : 0) {
	display: inline-block;
	.position(absolute, @ss-y + (@ss-height * @oy - (3 * @oy)), @ss-x + (@ss-width * @ox - 3));
	z-index: @fground;
	width: @ss-width;
	height: @ss-height;
	.snow {
		.animation(snowy_snow 4s infinite linear);
		border-radius: 50%;
		display: block;
		height: 7px;
		width: 7px;
		opacity: 0.5;
		.transform(scale(.9));
	}
}

.snow-row(@num-x, @num-y) {
	.generate-columns(@num-x, @num-y);

	.snow-0 {
		.snow-square(0, @num-y);
	}

	.generate-columns(@n, @y, @i: 1) when (@i < @n) {
	  .snow-@{i} {
	  	.snow-square(@i, @y);
	  }
	  .generate-columns(@n, @y, (@i + 1));
	}
}

.snowflakes(@num) {
	.generate-rows (@num);

	.generate-rows(@n, @i: 0) when (@i < @n) {
	  .snow-row@{i} {
	  	.snow-row(12, @i);
	  }
	  .generate-rows(@n, (@i + 1));
	}
}

.map-snowflakes {
	.snowflakes(6);
}

//*************************//

//*****Christmas Tree******//

.xtree(@x: 600px, @foreground : true, @lr : false, @y: 200px) {
	@size1: 60px;
	@size2: 70px;
	.display-i();
	.triangle(@size1, @size2, @xmas-green);
	.position(relative, @y, @x);
	z-index: @normal;

	/*& when not (@foreground = false) {
        z-index : @fground;
    }*/

	&:before {
		.ba();
		.position(absolute, 35px, -85px);
		.triangle(85px, 100px, @xmas-green);
	}

	&:after {
		.ba();
		.position(absolute, 85px, -100px);
		.triangle(100px, 110px, @xmas-green);
		//box-shadow: 0 6px 0 #f1cb9a, 0 8px 2px rgba(0,0,0,0.2), -132px 40px 0 -61px #f6c83e, -128px 40px 0 -54px #edb815,
	}

	.root {
		.display();
		.size(15px, 30px);
		.position(relative, 190px, -15px);
		background-color: @dark-brown;
		box-shadow: 15px 0 0 @darker-brown;
	}
	//add triangle to shadow
	.shadow1 {
		.display();
		.size(93px, 5px);
		.position(relative, 101px, -47px);
		.shadow();
		background-color: @xmas-green;
		box-shadow: 0 5px 5px rgba(19, 108, 61, 0.6); //@dark-xmas-green; //rgb(24,138,54, 0.6);
	}
	.shadow2 {
		.display();
		.shadow();
		.size(60px, 5px);
		.position(relative, 31px, -29px);
		background-color: @xmas-green;
		box-shadow: 0 5px 5px rgba(19, 108, 61, 0.6); //@dark-xmas-green; //rgb(24,138,54, 0.6);
	}

	.snow() {
		z-index: @normal;
		background-color: @snow-white;
		border-radius: 10px;
	}

	.snow-clump() {
		.size(12px, 27px);
		position: absolute;
		top : 0;
	}

	.snow5 {
		.display();
		.size(50px, 11px);
		.position(relative, 75px, 10px);
		.snow();
	}

	.snow1 {
		.display();
		.size(75px, 13px);
		.position(relative, 145px, -57px);
		.snow();

		&:after {
			.ba();
			.position(absolute, 2px, 40px);
			& when not (@lr = false) {
				.position(absolute, 2px, 40px);
			}
			.size(17px, 17px);
			background-color: @snow-white;
			border-radius: 100%;
		}
	}

	.snow2 {
		.display();
		.snow-clump();
		left: -12px;
		.snow();
		.transform(rotate(40deg));
	}
	.snow3 {
		.display();
		.snow-clump();
		left: -5px;
		.snow();
	}
	.snow4 {
		.display();
		.snow-clump();
		left: 2px;
		.snow();
		.transform(rotate(-40deg));
	}

	.light(@color1 : @red, @color2: @dark-red) {
		@width : 8px;
		.size(@width);
		.shadow();
		background-color: @color1;
		.border-radius(50%);
		.box-shadow(@color2 0px 0px 10px);
		.animation(pulsate 2.5s infinite);
	}

	//Level 1

	.light11 {
		.light(@purple, @dark-purple);
		.position(absolute, 44px, -35px);
	}

	.light12 {
		.light();
		.position(absolute, 50px, -16px);
	}

	.light13 {
		.light(@orange, @dark-orange);
		.position(absolute, 50px, 7px);
	}

	.light14 {
		.light(@green, @dark-green);
		.position(absolute, 44px, 27px);
	}

	//Level 2

	.light21 {
		.light();
		.position(absolute, 103px, -52px);
	}

	.light22 {
		.light(@green, @dark-green);
		.position(absolute, 108px, -29px);
	}

	.light23 {
		.light(@blue, @dark-blue);
		.position(absolute, 113px, -5px);
	}

	.light24 {
		.light(@purple, @dark-purple);
		.position(absolute, 108px, 19px);
	}

	.light25 {
		.light(@orange, @dark-orange);
		.position(absolute, 103px, 44px);
	}

	//Level 3

	.light31 {
		.light(@blue, @dark-blue);
		.position(absolute, 157px, -57px);
	}

	.light32 {
		.light(@orange, @dark-orange);
		.position(absolute, 160px, -37px);
	}

	.light33 {
		.light();
		.position(absolute, 165px, -15px);
	}

	.light34 {
		.light(@green, @dark-green);
		.position(absolute, 165px, 7px);
	}

	.light35 {
		.light(@purple, @dark-purple);
		.position(absolute, 160px, 29px);
	}

	.light36 {
		.light(@blue, @dark-blue);
		.position(absolute, 157px, 49px);
	}

	#star-six {
		.triangle(15px, 30px, @dark-gold);
		.position(absolute, -38px, -14px);
		z-index: 1;
	}
	#star-six:after {
		.ba();
		.triangle(15px, 30px, @gold);
		.transform(rotate(180deg));
		.position(absolute, 10px, -15px);
	}
}

.xmas-tree {
	.xtree();
}

.text {
	.display();
	.size(500px, 75px);
	text-align: center;
	font-size: 70px;
	font-family: 'Berkshire Swash', cursive;;
	color: @red;
	//text-shadow: 2px 0 0 #fff, -2px 0 0 #fff, 0 2px 0 #fff, 0 -2px 0 #fff, 1px 1px #fff, -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff;
	.position(absolute, 20px, 50px);
	span {
		color: @dark-red;
	}
}

//*************************//

//***********Ground1******//
.ground1 {
	.display-i();
	.size(@ground-length, @ground-height1);
	.position(relative, @ground-y + 5, 0);
	background-color: @snow-white;
	border-radius: 10px;
}
//********************/

.ground-ba(@width: 200px, @x : 0, @height: @ground-height2, @y: @ground-y - @ground-height1 - 5) {
	.display-i();
	.size(@width, @height);
	.position(relative, @y, @x);
	background-color: @snow-white;
	border-radius: 10px;

	&:before {
		.ba();
		background-color: @snow-white;
		border-radius: 100%;
	}

	&:after {
		.ba();
		background-color: @snow-white;
		border-radius: 100%;
	}
}

//***********Ground2******//
.ground2 {
	.ground-ba();

	&:before {
		.position(absolute, 10px, 65px);
		.size(30px);
	}

	&:after {
		.position(absolute, 2px, 30px);
		.size(45px, 45px);
	}
}
//********************/

//***********Ground3******//
.ground3 {
	.ground-ba(225px, 100px);

	&:before {
		.position(absolute, 15px, 175px);
		.size(20px);
	}

	&:after {
		.position(absolute, 0px, 30px);
		.size(40px);
	}
}
//********************/

//***********Ground4******//
.ground4 {
	.ground-ba(400px, 175px);

	&:before {
		.position(absolute, 2px, 250px);
		.size(38px);
	}

	&:after {
		.position(absolute, 10px, 30px);
		.size(25px);
	}
}
//********************/

//***********Frame*********//

.frame {
	.display();
	.size(1050px, 600px);
	.position(relative, 50px, 0);
	z-index: @mid-ground;
	border: 25px solid @dark-brown;
	box-shadow: @darker-brown 0 0 5px 25px; 

}

//*********************//
